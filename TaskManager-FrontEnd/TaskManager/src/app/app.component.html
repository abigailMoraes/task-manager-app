<ng-container *ngIf="auth.isAuthenticated$ | async; else loggedOut">
  <mat-toolbar color="primary">
    <mat-toolbar-row>
      <button mat-mini-fab class="mat-mdc-button mat-mdc-button" color="primary">
        <mat-icon (click)="sidenav.toggle()">menu</mat-icon>
      </button>

      <mat-toolbar-row>
        <button mat-mini-fab>
          <mat-icon>pie_chart</mat-icon>
          <mat-label>
            Task Manager
          </mat-label>

        </button>
      </mat-toolbar-row>
      <app-authentication-button></app-authentication-button>
    </mat-toolbar-row>
  </mat-toolbar>
  <mat-sidenav-container style="height: 100%;">
    <mat-sidenav #sidenav style="position:fixed; height: 100%;" mode="over">
        <mat-nav-list>
          <a mat-list-item [routerLink]="'/tasks'">
            <mat-icon matListIcon>assignment_late</mat-icon> Tasks
          </a>
          <a mat-list-item [routerLink]="'/task-history'">
            <mat-icon matListIcon>query_builder</mat-icon> Task History
          </a>
          <a mat-list-item [routerLink]="'/profile'">
            <mat-icon matListIcon>account_circle</mat-icon>Profile
          </a>
          <a mat-list-item [routerLink]="'/logout'">
            <mat-icon matListIcon>logout</mat-icon>Logout
          </a>
          <a mat-list-item (click)="sidenav.toggle()" mat-list-item>
            <mat-icon matListIcon>close</mat-icon>Close
          </a>
        </mat-nav-list>
    </mat-sidenav>
    <mat-sidenav-content>
      <div style="width: 80%; height:100%; margin:0 auto; padding-top: 5%;">
        <mwl-demo-component style="width: 100%; height:100%;" class="calendarWindow" *ngIf="auth.user$|async as user"
          [user]="user">Loading...</mwl-demo-component>
        <router-outlet></router-outlet>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</ng-container>
<ng-template #loggedOut>
  <mat-card color="primary">
    <mat-card-content color="primary">
      <span class="title-center">
        <h1 class="logo">Task Manager</h1>
      </span>
      <mat-icon class="logo-icon-login">pie_chart</mat-icon>
      <app-authentication-button></app-authentication-button>
    </mat-card-content>
  </mat-card>
</ng-template>

<!--   
  <h5 class="d-flex justify-content-center">
    Manage Users
  </h5>
  <nav class="navbar navbar-expand-sm bg-light navbar-dark">
    <ul class="navbar-nav">
      <li class="nav-item">
        <button routerLink="user"
        class ="m-1 btn btn-light btn-outline-primary"
         Button>Users</button>
      </li>
    </ul>
  </nav>
</div>
<router-outlet></router-outlet> -->


<!-- <span class="menu-spacer"></span>
      <div>
        <a mat-button [routerLink]="'/tasks'">Tasks</a>
        <a mat-button [routerLink]="'/history'">History</a>
        <a mat-button [routerLink]="'/profile'">Profile</a>
        <a mat-button [routerLink]="'/logout'">Logout</a>
      </div> -->